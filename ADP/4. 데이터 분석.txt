4. 데이터 분석
ADP : https://m.blog.naver.com/PostView.naver?blogId=pouing_v&logNo=221478992938&navType=by

■ R의 데이터 구조란?
1. 벡터 
 : 벡터데이터 구조는 하나의 스칼라값, 혹은 하나 이상의 스칼라 원소들을 갖는 단순한 형태의 집합 의미
 x=c(1,10), y=c("사과", "바나나"), z=c(TURE, FALSE)
 논리연산자 벡터를 숫자형 벡터처럼 사용하는 경우, 
 자동적으로 "TRUE"는 1의 값을 할당, "FALSE"는 0의 값을 할당

2. 행렬
 : 행렬은 행과 열을 갖는 m*n형태의 직사각형 데이터를 나열한 데이터 구조
   행렬의 선언을 위해 명령어 matrix를 사용
※ 기본적으로 값들은 열을 우선 채우는 방향으로 입력

ㅁ 탐색적 자료 분석(박스플롯)
 - 최소값, 최대값, 중앙값, Q1, Q3
  1)1사분위, 3사분위를 박스 양끝에 그림
  2)박스 내, 세로선은 중앙값(Q2)
  3)박스플롯 하한은 Q1에서 아래쪽으로 1.5IQR
    박스플롯 상한은 Q3에서 위쪽으로 1.5IQR
  4)점선은 최소, 최대값
  5)이상치는 * 표시

ㅁ 확률변수
 : 표본공간에서 이루어지는 실험의 결과값
 : 특정사건이 일어난 확률은 그 변수가 측정값을 가질 확률
 : 특정값이 나타날 가능성이 확률적으로 주어지는 변수

 1)이산확률변수
 2)연속확률변수
 : 구간이나 구간의 집합에 속한 값을 가지는 변수(측정가능)
 : 사건의 확률이 함수(면적)으로 표현, 이때 함수 f(x)를 확률밀도함수로 표현
 
 ㅁ 연속확률변수 vs 이산확률변수
1.확률변수에 대한 확률은 어떤 특정한 값을 가질 확률이 아니라, 주어진 구간에서의 속할 확률
2.어떤 연속확률변수가 구간x1, x2사이의 값을 가질 확률은 x1과 x2사이의 확률밀도함수 그래프의 아래 면적에 해당한다.
  또한, 연속확률변수가 어떤 구간내의 값을 가질 확률은, 그값이 경계값을 포함하는지 여부와 상관없다.
3.이상확률변수의 확률함수 f(x)는 확률변수가 어떤 특정값이 될 확률
  연속확률변수의 확률함수는 확률밀도함수로 그래프의 면적으로 확률을 나타낸다.

ㅁ 통계분석의 이해
 - 비모수 검정 : 통계적 검정에서 모집단의 모수에 대한 검정은 모수적 검정과 비모수적 검정으로 구분
 1) 모수적 방법
 - 검정하고자 하는 모집단의 분포에 대한 가정을 하고 그 가정하에서 검정통계량과 
 검정통계량의 분포를 유도해 검정을 실시하는 방법
 2) 비모주적 방법
- 자료가 추출된 모집단의 분포에 대한 아무 제약을 가하지 않고 검정을 실시하는 검정방법
- 관측된 자료가 특정분포를 따른다고 가정할 수 없는 경우 이용
- 관측된 자료의 수가 많지 않거나 자료가 개체간의 서열관계를 나타내는 경우

ㅁ 군집분석
: N개의 개체를 유사한 성격을 가지는 몇 개의 군집으로 집단화하고 형성된 군집들의 특성을 파악하여 군집들 사이의 관계를 분석하는 다변량 분석기법
1.계층적 군집 : 두 군집간의 거리 측정에 따라 병합방법이 달라짐
1)최단연결법 2)최장연결법 3)중심연결법 4)와드연결법 : 군집내의 오차제곱합에 기초하여 군집수행
* 그외 다양한 군집간 거리를 통해 수행가능(단, 모든변수가 연속형일 경우에만)
 - 유클리드, 맨하튼, 민코우스키, 표준화 


2.K-평균수집
 : 원하는 군집만큼(k개) 초기값을 지정하고 각 개체(데이터)를 가까운 초기값에 할당하여 군집을 형성한 뒤,
   각 군집의 평균을 재계산하여 초기값 갱신, 갱신된 값에 대해 위 할당과정 반복하여 k개 최종군집 형성
   (장) 알고리즘 단순, 빠르게 수행, 많은 양의 자료 다룰 수 있음
   (단) 이상값에 영향 많이 받음
   
3. 혼합분포군집 EM알고리즘
: 모형-기반의 군집방법으로 데이터 k개의 모수적 모형의 가중합으로 표현되는 모집단 모형으로부터 나왔다는 가정하에
 모수와 함께 가중치를 자료로부터 추정하는 방법 사용.
: k개의 각 모형은 군집을 의미하며 각 데이터는 추정된 k개의 모형 중, 어느 모형으로부터 나왔을 확률이 높은지에 따라 군집분류가 이루어짐
: k평균군집의 절차와 유사하나 확률분포를 도입하여 군집을 수행하는 모형 기반의 군집방법
: 군집을 몇 개의 모수로 표현할 수 있으며 사로 다른 크기나 모양이 군집을 찾을 수 있음

4. SOM
: 비지도신경망으로 고차원의 데이터를 이해하기 쉬운 저차원의 뉴런으로 정렬하여 지도의 형태로 형상화한다.
  이러한 형상화는 입력변수의 위치관계를 그대로 보존한다. SOM 모델은 입력층과 경쟁층으로 구성된다.
: 경쟁층의 각 뉴런은 연결강도 벡터와 입력벡터가 얼마나 가까운가를 계산
 그리고 각 뉴런들은 학습할 수 있는 특권을 부여받으려고 서로 경쟁하는데, 거리가 가장 가까운 뉴런이 승리함
 이 승자 뉴런이 출력신호를 보낼 수 있는 유일한 뉴런이다.
 또한, 이 뉴런와 이와 인접한 이웃 뉴런들만 제시된 입력 벡터에 대하여 학습이 허용됨

ㅁ SOM의 학습알고리즘
1)SOM맵의 노드에 대한 연결강도 초기화
2)입력벡터 제시
3) 3-1)유클리드 거리 사용하여 입력벡터와 프로토타입 벡터 사이 유사도 구함
 3-2) 입력벡터와 가장 거리가 짧은 프로토타입 벡터 방식
4)프로토타입 벡터와 그 이웃들의 연결강도 재조정
5)단계2로 가서 반복

ㅁ 연관분석 Apriori 알고리즘
Apriori 알고리즘(최소지지도를 갖는 연관규칙) 분석절차
1)최소 지지도 설정
2)최소 지지도를 넘는 모든 품목 찾기
3)최소 지지도를 넘는 2가지 품목 집합찾기
4)위 두 절차서 찾은 품못집합 결합해서 최소 지지도를 넘는 3가지 품목 집합 차지
(장) 1.if-then 조건반응으로 표현, 결과이해 쉬움 2.데이터 변환없이 사용 3.계산용이
(단) 1.품목많은 시 상단수 계산 2.적절한 품목 결정

ㅁ 연관규칙 측정지표
1.지지도(support) : 전체 거래 중 품목 A,B 동시에 포함되는 거래 비율
 - A와 B가 동이세 포함된 거래수 / 전체 거래수
2.신뢰도(confidence) : 품목A가 포함된 거래 중 A,B 동시에 포함하는 거래일 확률은?
 - A와 B가 동시에 포함된 거래수 / A를 포함하는 거래수
3.향상도(lift) : 품목 B를 구매한 고객대비 / 품목 A를 구매 후, B를 구매하는 고객 확률
 - 향상도 > 1 : 예측우수 / 향상도 = 1 : 두 품목간 연관X / 향상도 < 1 : A,B 연관성 X

ㅁ ROC 그래프
: 두 분류 분석 모형을 비교 분석결과를 가시화 하는 평가도구
: ROC 그래프의 밑면적 부분(AUC)이 넓을수록 좋은 모형으로 평가. 모형의 AUC가 1(넓이)에 가까울수록 좋은 모형
neural_ROC <- ROC(form = case~not_pred, plot = "ROC")

ㅁ 이익도표와 향상도 곡선
- 이익도표 : 분류분석 모형을 사용하여 분류된 관측치가 각 등급별로 얼마나 포함되는지를 나타내기 위한 도표
- 향상도 곡선 : 랜덤모델과 비교하여 해당 모델의 성과가 얼마나 향상되었는지를 각 등급별로 파악하는 그래프


4장 통계분석
1절 통계분석의 이해
통계 : 특정집단을 대상으로 수행한 조사나 실험을 통해 나온 결과에 대한 요약된 형태의 표현

나.표본조사
 - 대부분의 설문조사가 표본보사로 진행되며 모집단에서 샘플을 추출하여 진행하는 조사
 - 모집단 : 조사하고자 하는 대상 집단 전체
 - 원소 : 모집단을 구성하는 개체
 - 표본 : 조사하기 위해 추출한 모집단의 일부 원소
 - 모수 : 표본 관측에 의해 구하고자 하는 모집단에 대한 정보
 - 모집단의 정의, 표본의 크기, 조사방법, 조사기간, 표본추출방법을 정확히 명시

다.표본추출방법
 - 단순랜덤추출법 : 각 샘플에 번호를 부여하여 임의의 n개를 추출하는 방법으로 각 샘플은 선택될 확률이 동일
 - 계통추출법 : 단순랜덤추출법의 변형된 방식으로 번호를 부여한 샘플을 나열하여 K개씩 N개의 구간으로 나누고 첫 구간에서 하나를 임의로 선택한 후에 K개씩 띄어서 N개의 표본을 선택한다. 즉, 임의 위치에서 매 K번째 항목을 추출하는 방법
 - 집락추출법 : 군집을 구분하고 군집별로 단순랜덤 추출법을 수행한 후, 모든 자료를 활용하거나 샘플링 하는 방법(지역표본추출, 다단계표본추출)
 - 층화추출법 : 이질적인 원소들로 구성된 모집단에서 각 계층을 고루 대표할 수 있도록 표본을 추출하는 방법으로 유사한 원소끼리 몇 개의 층으로 나누어 각 층에서 랜덤 추출하는 방법
 (비례층화 추출법, 불비례층화 추출법)

ㅁ 주성분 분석 PCA
 상관관계가 있는 고차원자료를 자료의 변동을 최대한 보존하는 저차원 자료로 변환시키는 방법.

ㅁ 앙상블 
1번 배깅 그기가 같은 표본을 여러번 단순 임의복원추출하여 각 표본에 대한 분류기 생성 후, 그결과를 앙상블 하는 방법
2번 부스팅 표본을 구성하는 재표본과정에서 분류기가 잘못된 데이터에 더 큰가중을 주어 표본추출
3번 랜덤포레스트 배깅과정에 랜덤과정을 추가
붓스트램 샘플추출 -> 트리형성 -> 예측변수임의추출 > 추출된변수에서 최적의 분할을 만듬
